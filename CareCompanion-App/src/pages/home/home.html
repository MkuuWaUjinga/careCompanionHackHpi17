<ion-header>
  <ion-navbar>

    <ion-buttons [hidden]="!searchActive">
      <button (click)="search()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>

    <ion-buttons [hidden]="searchActive">
      <button (click)="search()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title>Care Companion</ion-title>

    <ion-buttons end>
      <button (click)="addpatient()">
        <ion-icon name="person-add" ></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>

  <div [hidden]="!searchActive">
    <ion-searchbar
      [(ngModel)]="myInput"
      [showCancelButton]="shouldShowCancel"
      (ionInput)="onInpatientent()"
      (ionCancel)="onCancel($event)"
      >
    </ion-searchbar>
  </div>

  <ion-card color="primary">
    <ion-card-content>
      <ion-icon name="happy" style="font-size: 50px;"></ion-icon>
      <b style="font-size: 32px;">{{ patientData?.name }}</b> is at home and everything should be allright.
    </ion-card-content>
  </ion-card>

  <div style="margin: 50px 0 0 0;"></div>

  <ion-card>
      <ion-card-header>
        {{ patientData?.name }}'s' heart rate
      </ion-card-header>
      <ion-card-content>
        <canvas baseChart width="400" height="400"
                [datasets]="lineChartData"
                [labels]="lineChartLabels"
                [options]="lineChartOptions"
                [colors]="lineChartColors"
                [legend]="lineChartLegend"
                [chartType]="lineChartType"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>
      </ion-card-content>
    </ion-card>

    <ion-card color="primary">
      <ion-card-content>
        <b style="font-size: 32px;">{{ patientData?.name }}'s</b> heart rate is normal. You'll be informed if something changes.
      </ion-card-content>
    </ion-card>

    <div style="margin: 50px 0 0 0;"></div>

    <ion-list NgIf="patientData.name">

      <ion-item-divider color="primary">
        Your patient information
      </ion-item-divider>

      <ion-item>
        {{ patientData?.name }}
      </ion-item>

      <ion-item>
        {{ patientData?.street }}
      </ion-item>

      <ion-item>
        {{ patientData?.city }}
      </ion-item>

      <ion-item>
        {{ patientData?.country }}
      </ion-item>

      <ion-item color="light">
        <a (click)="addPatient()"><ion-icon name="create"></ion-icon> Edit patient information</a>
      </ion-item>

    </ion-list>

      <div padding>
        <button ion-button block color="primary" (click)="refreshpatientData()">Refresh</button>
      </div>

</ion-content>
