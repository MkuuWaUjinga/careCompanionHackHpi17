<ion-header>
  <ion-navbar>

    <ion-buttons [hidden]="!searchActive">
      <button (click)="search()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>

    <ion-buttons [hidden]="searchActive">
      <button (click)="search()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title>Care Companion</ion-title>

    <ion-buttons end>
      <button (click)="addPatient()">
        <ion-icon name="person-add" ></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  <div [hidden]="!searchActive">
    <ion-searchbar
      [(ngModel)]="myInput"
      [showCancelButton]="shouldShowCancel"
      (ionInput)="onInpatientent()"
      (ionCancel)="onCancel($event)"
      >
    </ion-searchbar>
  </div>
</ion-header>

<ion-content>
  <ion-card color="primary">
    <ion-card-header>
      Feeling stressed?
    </ion-card-header>
    <ion-card-content (click)="changeInFlat()">
      We offer help for you, if you have any kind of stress or not feeling well. We are here to help.<br />
      <p style="text-align: right;">
        <button ion-button round color="light" style="text-align: right;" (click)="reliveStress()">Relive stress</button>
      </p>
    </ion-card-content>
  </ion-card>

  <div style="margin: 35px 0 0 0;"></div>

    <div [hidden]="inFlat">
      <ion-card color="green">
        <ion-card-content (click)="changeInFlat()">
          <ion-icon name="happy" style="font-size: 35px;"></ion-icon>
          <b style="font-size: 32px;">{{ patientData?.name }}</b> is at home and everything should be allright.
        </ion-card-content>
      </ion-card>
    </div>

    <div [hidden]="!inFlat">
      <ion-card color="danger">
        <ion-card-content>
          <ion-icon name="sad" style="font-size: 35px;"></ion-icon>
          <b style="font-size: 32px;">{{ patientData?.name }}</b> is out of home. If you don't know about this ocation click on the button to locate the current position of your patient.
          <br />
          <p style="text-align: right;">
            <button ion-button round color="light" style="text-align: right;" (click)="changeInFlat()">Find {{ patientData?.name }}</button>
          </p>
        </ion-card-content>
      </ion-card>
    </div>

  <div style="margin: 35px 0 0 0;"></div>

  <ion-card>
      <ion-card-header>
        {{ patientData?.name }}'s' heart rate
      </ion-card-header>
      <ion-card-content>
        <canvas baseChart width="400" height="400"
                [datasets]="lineChartData"
                [labels]="lineChartLabels"
                [options]="lineChartOptions"
                [colors]="lineChartColors"
                [legend]="lineChartLegend"
                [chartType]="lineChartType"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>
      </ion-card-content>
    </ion-card>

    <ion-card color="primary">
      <ion-card-content>
        <ion-icon name="analytics" style="font-size: 35px;"></ion-icon>
        <b style="font-size: 32px;">{{ patientData?.name }}'s</b> heart rate is normal. You'll be informed if something changes.
      </ion-card-content>
    </ion-card>

    <div style="margin: 35px 0 0 0;"></div>

    <ion-list NgIf="patientData.name">

      <ion-item-divider color="primary">
        Your patient information
      </ion-item-divider>

      <ion-item>
        {{ patientData?.name }}
      </ion-item>

      <ion-item>
        {{ patientData?.street }}
      </ion-item>

      <ion-item>
        {{ patientData?.city }}
      </ion-item>

      <ion-item>
        {{ patientData?.country }}
      </ion-item>

      <ion-item color="light">
        <a (click)="addPatient()"><ion-icon name="create"></ion-icon> Edit patient information</a>
      </ion-item>

    </ion-list>

    <div style="margin: 35px 0 0 0;"></div>

    <ion-card color="primary">
      <ion-card-header>
        How was your day?
      </ion-card-header>
      <ion-card-content (click)="changeInFlat()">
        You are doing one of the most important jobs - caring about people. Care Companion wants to help you stay motivated and get the help you need to help other people. Track your emotional level and get help when you need it.<br />
        <p style="text-align: right;">
          <button ion-button round color="light" style="text-align: right;" (click)="changeInFlat()">Track now</button>
        </p>
      </ion-card-content>
    </ion-card>

    <div style="margin: 35px 0 0 0;"></div>

    <ion-card>
      <ion-card-header>
        Gesundheitscloud control pannel
      </ion-card-header>
      <ion-card-content>
        <img src="assets/images/gesundheitscloud.jpg" width="100%" />
        We give you the control to share the data of the patient with other peers. You have full controll over the data. All data is stored encrypted with AES-256.
        <div style="margin: 15px 0 0 0;"></div>

        <p style="text-align: right;">
          <button ion-button round color="light" style="text-align: right;">Open controll pannel</button>
        </p>
      </ion-card-content>
    </ion-card>

      <div padding>
        <button ion-button block color="primary" (click)="refreshPatientData()">Refresh</button>
      </div>

</ion-content>
